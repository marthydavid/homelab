defaultNamespace: cattle-monitoring-system
dependsOn:
  - name: rancher-charts-fleet-rancher-charts-01-crd-moni-9c89b
helm:
  releaseName: rancher-monitoring
  chart: rancher-monitoring
  repo: https://charts.rancher.io/
  version: "101.0.0+up19.0.3"
  valuesFiles:
  - default-values.yaml
targetCustomizations:
- name: rke2-1
  clusterSelector:
    matchLabels:
      provider.cattle.io: rke2
      topology.kubernetes.io/region: budapest
      topology.kubernetes.io/zone: esxi-hp
      topology.kubernetes.io/cluster: rke2-1
  helm:
    version: "102.0.0+up40.1.2"
    valuesFiles:
      - rke2-base-values.yaml
      - rke2-budapest-values.yaml
- name: rke2-2
  clusterSelector:
    matchLabels:
      provider.cattle.io: rke2
      topology.kubernetes.io/region: budapest
      topology.kubernetes.io/zone: esxi-sm4
      topology.kubernetes.io/cluster: rke2-2
  helm:
    version: "101.0.0+up19.0.3"
    valuesFiles:
      - rke2-base-values.yaml
      - rke2-2-values.yaml
- name: k3s
  clusterSelector:
    matchLabels:
      provider.cattle.io: k3s
      topology.kubernetes.io/region: budapest
      topology.kubernetes.io/zone: rpi
  helm:
    version: "102.0.0+up40.1.2"
    valuesFiles:
      - k3s-base-values.yaml
- name: nas
  clusterSelector:
    matchLabels:
      provider.cattle.io: k3s
      topology.kubernetes.io/region: pecs
      topology.kubernetes.io/zone: nas
  helm:
    version: "102.0.0+up40.1.2"
    valuesFiles:
      - k3s-base-values.yaml
      - nas-values.yaml
diff:
  comparePatches:
  - apiVersion: admissionregistration.k8s.io/v1beta1
    kind: MutatingWebhookConfiguration
    name: rancher-monitoring-admission
    operations:
    - {"op":"remove", "path":"/webhooks"}
  - apiVersion: admissionregistration.k8s.io/v1beta1
    kind: MutatingWebhookConfiguration
    name: rancher-monitoring-admission
    jsonPointers:
    - "/webhooks"
  - apiVersion: admissionregistration.k8s.io/v1
    kind: MutatingWebhookConfiguration
    name: rancher-monitoring-admission
    operations:
    - {"op":"remove", "path":"/webhooks"}
  - apiVersion: admissionregistration.k8s.io/v1
    kind: MutatingWebhookConfiguration
    name: rancher-monitoring-admission
    jsonPointers:
    - "/webhooks"
  - apiVersion: admissionregistration.k8s.io/v1beta1
    kind: ValidatingWebhookConfiguration
    name: rancher-monitoring-admission
    operations:
    - {"op":"remove", "path":"/webhooks"}
  - apiVersion: admissionregistration.k8s.io/v1beta1
    kind: ValidatingWebhookConfiguration
    name: rancher-monitoring-admission
    jsonPointers:
    - "/webhooks"
  - apiVersion: admissionregistration.k8s.io/v1
    kind: ValidatingWebhookConfiguration
    name: rancher-monitoring-admission
    operations:
    - {"op":"remove", "path":"/webhooks"}
  - apiVersion: admissionregistration.k8s.io/v1
    kind: ValidatingWebhookConfiguration
    name: rancher-monitoring-admission
    jsonPointers:
    - "/webhooks"
  - apiVersion: monitoring.coreos.com/v1
    kind: Prometheus
    name: rancher-monitoring-prometheus
    namespace: cattle-monitoring-system
    operations:
    - {"op":"remove", "path":"/spec/paused"}
    - {"op":"remove", "path":"/spec/enableAdminAPI"}
    - {"op":"remove", "path":"/spec/listenLocal"}
    jsonPointers:
    - "/spec/paused"
    - "/spec/enableAdminAPI"
    - "/spec/listenLocal"
  - apiVersion: v1
    kind: Service
    name: rancher-monitoring-alertmanager
    namespace: cattle-monitoring-system
    operations:
    - {"op":"remove", "path":"/spec/selector/app"}
    jsonPointers:
    - "/spec/selector/app"